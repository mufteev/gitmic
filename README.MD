# Пример проекта и кода для обращения к API GitHub

## Цель
- Получить информацию об участниках каждого репозитория в организации `microsoft`

## Файлы в проекте
- `api/orgs/repos/get.go` - описание структуры Репозитория и подготовка запроса к API
- `api/repos/contributors/get.go` - описание структуры Участника
- `api/users/get.go` - описание структуры Пользователя  
&nbsp;
- `api/init.go` - инициализация пакета для доступа к API
- `api/option.go` - определение структуры паттерна функциональных опций  
&nbsp;
- `api/repos.go` - определение метода для доступа к Репозиторию по указанной организации
- `api/contributors.go` - определение метода для доступа к Участникам по указанному Репозиторию
- `api/user.go` - определение метода для доступа к Пользователю  
&nbsp;
- `cmd/repos/main.go` - отправная точка для запуска проекта  
&nbsp;
- `internal/repos/main.go` - внутренняя логика проекта
- `internal/env/env.go` - определение переменных к проекту из файла


## Хранение токена
Для того чтобы предоставить токен проекту необходимо создать файл `.git.env` в папке `secret`  
Со следующим содержимым:
```toml
GIT_TOKEN="<token>"
```

## Запуск проекта
```bash
go run cmd/repos/main.go
```

## Сборка проекта и запуск собранного проекта
> Почитать про указанные переменные перед командой `go build`
```bash
GO111MODULE=on CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -C "cmd/repos" -ldflags "-s -w" -o ../../repos
./repos
```

## Прогон тестов
```bash
go -C internal/repos/ test -bench=. -benchmem
```